{% extends 'base.html' %}

{% block title %}æ—¥è¨˜ä¹‹æ£® | å¿˜è¨˜å¯†ç¢¼{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/module/user/user.css') }}">
<script src="{{ url_for('static', filename='js/module/user/user.js') }}"></script>
{% endblock %}

{% block content %}
<div class="user-page-wrapper">
  <div class="auth-box">
    <h2 class="text-center mb-4">ğŸ” é‡è¨­å¯†ç¢¼é©—è­‰</h2>

    {% if error_message %}
    <div class="alert alert-danger" role="alert">
      {{ error_message }}
    </div>
    {% endif %}

    {% if success %}
    <div class="alert alert-success" role="alert">
      é‡è¨­å¯†ç¢¼é€£çµå·²å¯„å‡ºï¼Œè«‹è‡³ä¿¡ç®±æŸ¥æ”¶ã€‚
    </div>
    {% endif %}    <form action="{{ url_for('user.forgot_password') }}" method="POST" id="forgotForm">
      <label for="email">è¨»å†Šæ™‚ä½¿ç”¨çš„é›»å­éƒµä»¶</label>
      <input type="email" class="form-control" id="email" name="email" required>

      <button type="submit" class="btn" id="submitBtn">ç™¼é€é‡è¨­å¯†ç¢¼ä¿¡</button>
    </form>

    <div class="text-center mt-3">
      <a href="{{ url_for('user.user_login_form') }}">è¿”å›ç™»å…¥</a>
    </div>
  </div>
</div>

<script>
document.getElementById('forgotForm').addEventListener('submit', function(e) {
    const submitBtn = document.getElementById('submitBtn');
    const email = document.getElementById('email').value;
    
    // é˜²æ­¢é‡è¤‡æäº¤
    submitBtn.disabled = true;
    submitBtn.innerHTML = 'ç™¼é€ä¸­...';
    
    // å¦‚æœæäº¤å¤±æ•—ï¼Œ5ç§’å¾Œé‡æ–°å•Ÿç”¨æŒ‰éˆ•
    setTimeout(function() {
        submitBtn.disabled = false;
        submitBtn.innerHTML = 'ç™¼é€é‡è¨­å¯†ç¢¼ä¿¡';
    }, 5000);
});
</script>
{% endblock %}
