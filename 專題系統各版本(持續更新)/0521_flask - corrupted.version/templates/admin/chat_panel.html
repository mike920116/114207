{% extends 'admin/layout.html' %}

{% block title %}å®¢æœèŠå¤©é¢æ¿ | Admin{% endblock %}

{% block content %}
<h1 class="mb-4">ğŸ’¬ å®¢æœèŠå¤©é¢æ¿</h1>

<div class="chat-wrapper">
  <!-- å·¦å´æœƒè©±æ¸…å–® -->
  <aside class="session-list" id="session-list">
    <h3>å¾…å›è¦†</h3>
    <div id="session-container">
      {% if sessions %}
        {% for s in sessions %}
          <div class="session-item" data-sid="{{ s.session_id }}">
            <span class="user-mail">{{ s.user_email }}</span>
            <span class="badge">{{ s.msg_total }}</span>
          </div>
        {% endfor %}
      {% else %}
        <p class="no-session">ç›®å‰æ²’æœ‰ä½¿ç”¨è€…å‘¼å«çœŸäººå®¢æœ</p>
      {% endif %}
    </div>
  </aside>

  <!-- èŠå¤©å°è©±å€ -->
  <section class="chat-area">
    <!-- è¨Šæ¯é¡¯ç¤ºå€åŸŸ -->
    <div id="log-box" class="log-box">
      <div class="empty-state">â† è«‹å¾å·¦å´é¸æ“‡ä¸€å€‹å°è©±</div>
    </div>

    <!-- å›è¦†å€åŸŸ -->
    <div class="reply-area">
      <textarea id="reply-input" rows="3" placeholder="è¼¸å…¥è¨Šæ¯ä¸¦æŒ‰ Enter æˆ–é»é€å‡º"></textarea>
      <button id="reply-btn">é€å‡º</button>
    </div>
  </section>
</div>
 
{% endblock %}

{% block scripts %}
  {{ super() }}
  <script src="https://cdn.jsdelivr.net/npm/socket.io-client@4/dist/socket.io.min.js"></script>
{% endblock %}
