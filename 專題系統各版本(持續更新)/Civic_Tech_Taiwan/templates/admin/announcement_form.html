{% extends 'admin/layout.html' %}
{% block title %}Admin ─ 公告{% endblock %}
{% block content %}
<div class="announce-form-wrapper">
  <h1>{{ '編輯公告' if row else '新增公告' }}</h1>
  <form method="post" class="card">
    {% if row %}
  <input type="hidden" name="id" value="{{ row.id }}">{% endif %}
    <div class="mb-3">
      <label class="form-label">標題</label>
      <input class="form-control" name="title" required value="{{ row.title if row else '' }}">
    </div>
    <div class="mb-3">
      <label class="form-label">內容</label>
      <textarea class="form-control" rows="4" name="body" required>{{ row.body if row else '' }}</textarea>
    </div>
    <div class="mb-3">
      <label class="form-label">開始時間 (可空)</label>
      <input type="datetime-local" class="form-control" name="start_time"
            value="{{ row.start_time|replace(' ', 'T') if row and row.start_time else '' }}">
    </div>
    <div class="mb-3">
      <label class="form-label">結束時間 (可空)</label>
      <input type="datetime-local" class="form-control" name="end_time"
            value="{{ row.end_time|replace(' ', 'T') if row and row.end_time else '' }}">    </div>    <div class="d-flex justify-content-center gap-3">
      <button class="btn btn-success">儲存</button>
      <a href="{{ url_for('admin_announce.list_') }}" class="btn btn-secondary">返回</a>
    </div>
    </form>
  </div>
{% endblock %}

