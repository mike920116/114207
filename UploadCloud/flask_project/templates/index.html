{% extends 'base.html' %}

{% block title %}日記之森 | 首頁{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/common/starry_background.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/modules/index.css') }}">
{% endblock %}

{% block content %}
<!-- 統一星空背景系統 -->
{% include 'components/starry_background.html' %}

<!-- Hero 區塊-->
<section class="hero" id="home">
  <h1><i class="fas fa-tree"></i> 在森林的懷抱中寫下心靈詩篇</h1>
  <p>日記之森是一個心理健康系統平台，幫助你記錄每日心情，透過智慧 AI 互動聊天，分享心路歷程，並在社群中找到共鳴。漫步於寧靜森林，探索屬於你的心靈綠洲。</p>
</section>

<!-- ========== 功能展示 Feature ========== -->
<!-- 跑馬燈公告 -->
<section class="feature-section announcement-section" id="announcement">
  <div class="feature-content">
    <div class="announcement-board-home">
      <h2 class="announcement-title"><i class="fas fa-bullhorn"></i> 公告</h2>
      <div class="announcement-marquee">
        <ul id="announce-scroll" class="scroll-list"></ul>
      </div>
    </div>
  </div>
</section>



<!-- 心靈日記 -->
<section class="feature-section glass-feature" id="diary">
  <div class="feature-content">
    <div class="feature-text">
      <h2><i class="fas fa-book-open"></i> 心靈日記</h2>
      <p>在森林的寧靜中寫下心情，釋放壓力。</p>
      <div class="feature-buttons-group">
        <a href="/diary/form" class="auth-required feature-btn">
          <i class="fas fa-pen"></i> 新增日記
        </a>
        <a href="/diary/list" class="auth-required feature-btn">
          <i class="fas fa-list"></i> 日記列表
        </a>
      </div>
    </div>
    <div class="feature-icon">
      <i class="fas fa-book-open"></i>
    </div>
  </div>
</section>

<!-- AI 助手 -->
<section class="feature-section glass-feature" id="ai">
  <div class="feature-content reverse">
    <div class="feature-icon">
      <i class="fas fa-robot"></i>
    </div>
    <div class="feature-text">
      <h2><i class="fas fa-robot"></i> AI 助手</h2>
      <p>你的智慧小助手，隨時陪伴關懷。</p>
      <div class="feature-buttons-group">
        <a href="/ai/chat" class="auth-required feature-btn">
          <i class="fas fa-comments"></i> AI 助手
        </a>
        <a href="/ai/emotion" class="auth-required feature-btn">
          <i class="fas fa-heart"></i> 情緒 AI
        </a>
        <a href="/ai/emo_stats" class="auth-required feature-btn">
          <i class="fas fa-chart-line"></i> 情緒洞察
        </a>
      </div>
    </div>
  </div>
</section>

<!-- 社群互動 -->
<section class="feature-section glass-feature" id="community">
  <div class="feature-content">
    <div class="feature-text">
      <h2><i class="fas fa-users"></i> 社群互動</h2>
      <p>在森林的樹蔭下與他人分享心聲。</p>
      <div class="feature-buttons-group">
        <a href="/social/main" class="auth-required feature-btn">
          <i class="fas fa-comment-dots"></i> 心情討論區
        </a>
        <a href="/coopcard" class="auth-required feature-btn">
          <i class="fas fa-tasks"></i> 任務卡片
        </a>
      </div>
    </div>
    <div class="feature-icon">
      <i class="fas fa-comments"></i>
    </div>
  </div>
</section>

<!-- ---------------------------------------- -->

<!-- 問題反饋 -->
<section class="feature-section glass-feature" id="feedback">
  <div class="feature-content reverse">
    <div class="feature-icon">
      <i class="fas fa-envelope-open-text"></i>
    </div>
    <div class="feature-text">
      <h2><i class="fas fa-life-ring"></i> 問題反饋</h2>
      <p>有任何想法或建議，請告訴我們您的想法。</p>
      <div class="feature-buttons-group">
        <a href="/support/usage" class="auth-required feature-btn">
          <i class="fas fa-book-reader"></i> 使用說明
        </a>
        <a href="/support/faq" class="auth-required feature-btn">
          <i class="fas fa-question-circle"></i> 常見問題
        </a>
        <a href="/support/report" class="auth-required feature-btn">
          <i class="fas fa-paper-plane"></i> 意見回饋
        </a>
      </div>
    </div>
  </div>
</section>

<!-- 註冊 / 登入 CTA -->
<section class="auth-section" id="login">
  {% if current_user.is_authenticated %}
  <h2><i class="fas fa-leaf"></i> 歡迎回到日記之森，期待您的探索！</h2>
  <div class="auth-buttons">
    <a href="/settings/profile">
      <i class="fas fa-user-circle"></i> 個人資料
    </a>
    <a href="/user/logout">
      <i class="fas fa-sign-out-alt"></i> 登出
    </a>
  </div>
  {% else %}
  <h2><i class="fas fa-seedling"></i> 加入日記之森，開始心靈之旅</h2>
  <div class="auth-buttons">
    <a href="/user/signup/form">
      <i class="fas fa-user-plus"></i> 註冊
    </a>
    <a href="/user/login/form">
      <i class="fas fa-sign-in-alt"></i> 登入
    </a>
  </div>
  {% endif %}
</section>
{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='js/common/starry_background.js') }}"></script>
{% endblock %}



