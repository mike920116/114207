<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><![endif]-->
        <title>Nature Bootstrap Theme</title>
    	<meta name="keywords" content="" />
		<meta name="description" content="" />
        <meta name="viewport" content="width=device-width">
        
        <!-- Google Web Font Embed -->
        <link href='http://fonts.googleapis.com/css?family=Raleway:400,600,500,300,700' rel='stylesheet' type='text/css'>
        
        <link rel="stylesheet" href="css/bootstrap.min.css">
        <link rel="stylesheet" href="css/templatemo_main.css">
    </head>
    <body>
        <div id="main-wrapper">
            <!--[if lt IE 7]>
                <p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a rel="nofollow" href="http://browsehappy.com">upgrade your browser</a> or <a rel="nofollow" href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
            <![endif]-->

            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 affix text-center" style="z-index: 1;">
                <h1 class="templatemo-site-title">
                        <a href="#">心理日記</a>
                        <img src="images/btn-menu.png" alt="main menu" id="m-btn" class="pull-right visible-xs visible-sm" >
                </h1>

                <ul id="responsive" style="display:none" class="hidden-lg hidden-md"></ul><!-- /.responsive -->
            </div>

            <div class="menu visible-md visible-lg">
                <ul id="menu-list">
                    <li class="active home-menu"><a href="#home">Home</a></li>
                    <li class="about-menu"><a href="#about">About Us</a></li>
                    <li class="services-menu"><a href="#services">Our Services</a></li>
                    <li class="testimonial-menu"><a href="#testimonial">Testimonials</a></li>
                    <li class="contact-menu"><a href="#contact">Contact</a></li>
                    <li><a rel="nofollow" target="_parent" href="#" class="external">FB Page</a></li>
                    <li class="diary-menu"><a href="#diary">日記</a></li>
                </ul>
            </div><!-- /.menu -->

            <div class="image-section">
                <div class="image-container">
                    <img src="images/nature1.jpg" id="home-img" class="main-img inactive" alt="Home">
                    <img src="images/nature2.jpg" id="about-img" class="inactive" alt="About">
                    <img src="images/nature3.jpg" id="services-img"  class="inactive" alt="Services">
                    <img src="images/nature4.jpg" id="testimonial-img" class="inactive" alt="Testimonial">
                    <img src="images/nature5.jpg" id="contact-img" class="inactive" alt="Contact">
                    <img src="images/nature4 copy.jpg" id="diary-img" class="inactive" alt="diary">
                </div>
            </div>

            <div class="row">
                <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12 col-lg-offset-6 col-md-offset-6 templatemo-content-wrapper">
                    <div class="templatemo-content">
                        
                        <section id="home-text" class="active templatemo-content-section">
                            <div class="col-sm-12 col-md-12 col-lg-12">
                                <h2>Introducing Nature Theme</h2>
                                <p>Nature is free Bootstrap theme from templatemo. You may download and use this layout for any purpose. Credit goes to <a rel="nofollow" href="http://unsplash.com" target="_blank">Unsplash</a> for background images used in this template. Maecenas adipiscing, leo a facilisis tempor, mi quam feugiat eros, ullamcorper porttitor elit turpis ac risus. Suspendisse non sem a leo mattis dapibus.</p>
                                <p>Quisque non tempus lacus, non placerat arcu. Donec nibh ipsum, pharetra nec pellentesque at, mattis ut lorem. Fusce dapibus tristique neque, eget ultricies lorem tincidunt vitae. Aliquam erat volutpat. Integer vulputate ultricies nisl, sed vehicula justo accumsan non.</p>
                            </div>
                        </section><!-- /.home-text -->    

                        <section id="about-text" class="inactive">
                            <h2 class="text-center">About Us</h2>
                            <div class="col-sm-6 col-md-6">
                                <p>In tellus ipsum, ullamcorper vitae justo sit amet, mattis consequat tortor. Pellentesque rutrum, ligula vel fermentum imperdiet, lectus eros volutpat urna, id mollis dolor justo vulputate justo ut sit amet ante luctus metus.</p>
                            </div>
                            <div class="col-sm-6 col-md-6">
                                <p>Suspendisse risus urna, posuere id orci ut, facilisis accumsan ipsum. Etiam sodales consequat purus non vulputate. Aliquam erat volutpat. Sed vehicula lacinia porta. Vivamus faucibus dui nulla, a aliquet nunc porta in.</p>
                            </div>
                        </section><!-- /.about-text --> 

                        <section id="services-text" class="inactive">
                            <h2 class="text-center">Our Services</h2>
                            <div class="col-sm-4 col-md-4">
                                <h3>Marketing</h3>
                                <p>Nullam vitae lectus dui. Donec vulputate ac tortor id convallis. Sed nisi mauris, laoreet vitae lacus at, viverra viverra neque. Curabitur nec aliquam lacus.</p>
                            </div>
                            <div class="col-sm-4 col-md-4">
                                <h3>Public Relations</h3>
                                <p>Maecenas aliquam vitae urna sit amet elementum. Cras consequat libero nisi, vel condimentum nibh eleifend ut. Donec consequat arcu.</p>
                            </div>
                            <div class="col-sm-4 col-md-4">
                                <h3>Digital Media</h3>
                                <p>In tellus ipsum, ullamcorper vitae justo sit amet, mattis consequat tortor. Suspendisse risus urna, posuere id orci ut, facilisis accumsan ipsum.</p>
                            </div>
                        </section><!-- /.services-text --> 

                        <section id="testimonial-text" class="inactive">
                            <div class="col-sm-12 col-md-12">
                                <h2>Testimonials</h2>
                                <p>Quisque non tempus lacus, non placerat arcu. Donec nibh ipsum, pharetra nec pellentesque at, mattis ut lorem. Fusce dapibus tristique neque, eget ultricies lorem tincidunt vitae. Aliquam erat volutpat. Suspendisse non sem a leo mattis dapibus. Duis vel ornare arcu. Quisque at malesuada tortor.</p>
                                <p>Integer vulputate ultricies nisl, sed vehicula justo accumsan non. Aenean quis semper metus. Maecenas adipiscing, leo a facilisis tempor, mi quam feugiat eros, ullamcorper porttitor elit turpis ac risus. Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
                            </div>
                        </section><!-- /.testimonial-text --> 

                        <section id="contact-text" class="inactive">
                            <div class="col-sm-12 col-md-12">
                                <div class="row">
                                    <div class="col-sm-12 col-md-12"><h2>Contact</h2></div>
                                    <div class="clearfix"></div>
                                </div>
                                
                                <div class="row">
                                    <div class="col-sm-6 col-md-6">
                                        <div id="map-canvas"><iframe src="https://www.amap.com/" width="100%" height="100%" frameborder="0" style="border:0" sandbox=""></iframe></div>
                                        <p>990 Digital Street, New Forest Area, San Francisco, CA 10660</p>
                                    </div>

                                    <div class="col-sm-6 col-md-6">
                                        <form action="#" method="post">

                                                <div class="form-group">
                                                    <!--<label for="contact_name">Name:</label>-->
                                                    <input type="text" id="contact_name" class="form-control" placeholder="Name" />
                                                </div>
                                                <div class="form-group">
                                                    <!--<label for="contact_email">Email:</label>-->
                                                    <input type="text" id="contact_email" class="form-control" placeholder="Email Address" />
                                                </div>
                                                <div class="form-group">
                                                    <!--<label for="contact_message">Message:</label>-->
                                                    <textarea id="contact_message" class="form-control" rows="7" placeholder="Write a message"></textarea>
                                                </div>
                                                <button type="submit" class="btn btn-primary">Send</button>

                                        </form>
                                    </div>
                                    
                                    <div class="clearfix"></div>
                                </div>
                            </div>
                        </section><!-- /.contact-text --> 
<!------------------------------------------------------------------------------------------------------>


<section id="diary-text" class="inactive">
    <div class="col-sm-12 col-md-12">
        <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <title>心理日記</title>
            <script src="https://cdn.tailwindcss.com"></script>
        </head>
        <body class="bg-gray-100 min-h-screen">
            
            <div class="flex items-center justify-center p-6">
                <div class="bg-white p-6 rounded-2xl shadow-lg w-full max-w-2xl">
                    <h1 class="text-2xl font-bold text-center mb-4">心理日記</h1>
                    
                    <!-- 選擇輸入方式 -->
                    <div class="text-center mb-4">
                        <p class="text-gray-700 font-semibold">選擇輸入方式：</p>
                        <button id="yes-no-questions" class="bg-green-500 text-white px-4 py-2 rounded-lg">簡單是非題</button>
                        <button id="manual-entry" class="bg-gray-500 text-white px-4 py-2 rounded-lg">手動輸入</button>
                    </div>
                    
                    <!-- 紀錄日期 -->
                    <label for="diary-date" class="block text-gray-700 font-semibold">選擇日期：</label>
                    <input type="date" id="diary-date" class="w-full p-2 border rounded-lg mb-4">
                    
                    <!-- 情緒輸入區域 -->
                    <textarea id="diary-entry" class="w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 hidden" placeholder="寫下你的心情..."></textarea>

                    <!-- 情緒狀態區域 -->
                    <textarea id="diary-state" class="w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 hidden mt-2" placeholder="寫下你的情緒狀態..."></textarea>
                    
                    <!-- 簡單是非題區域 -->
                    <div id="yes-no-section" class="mt-4 hidden">
                        <h2 class="text-lg font-semibold">簡單是非題</h2>
                        <div id="questions-container" class="space-y-2">
                            <p>今天你感到開心嗎？ 
                                <button class="yes-no-btn bg-gray-300 px-2 py-1 rounded" data-question="開心" data-answer="是">是</button>
                                <button class="yes-no-btn bg-gray-300 px-2 py-1 rounded" data-question="開心" data-answer="否">否</button>
                            </p>
                            <p>你今天有感到壓力嗎？ 
                                <button class="yes-no-btn bg-gray-300 px-2 py-1 rounded" data-question="壓力" data-answer="是">是</button>
                                <button class="yes-no-btn bg-gray-300 px-2 py-1 rounded" data-question="壓力" data-answer="否">否</button>
                            </p>
                            <p>你覺得今天比昨天更快樂嗎？ 
                                <button class="yes-no-btn bg-gray-300 px-2 py-1 rounded" data-question="更快樂" data-answer="是">是</button>
                                <button class="yes-no-btn bg-gray-300 px-2 py-1 rounded" data-question="更快樂" data-answer="否">否</button>
                            </p>
                        </div>
                    </div>
                    
                    <!-- AI 分析結果 -->
                    <div id="analysis-result" class="mt-4 p-4 bg-gray-50 border rounded-lg hidden">
                        <h2 class="text-lg font-semibold">AI情感分析</h2>
                        <p id="emotion-label" class="text-gray-700">情緒標籤: </p>
                        <p id="advice" class="text-gray-700">建議: </p>
                    </div>
            
                    <!-- 提交日記 -->
                    <button id="submit-entry" class="mt-4 w-full bg-purple-600 text-white py-2 rounded-lg">提交日記</button>
                </div>
            </div>
            
            <script>
                let yesNoAnswers = {};  // 記錄是非題的答案

                document.querySelectorAll('.yes-no-btn').forEach(button => {
                    button.addEventListener('click', function() {
                        let question = this.dataset.question;
                        let answer = this.dataset.answer;
                        yesNoAnswers[question] = answer;

                        // 高亮選擇的按鈕
                        this.parentElement.querySelectorAll('button').forEach(btn => btn.classList.remove('bg-blue-500', 'text-white'));
                        this.classList.add('bg-blue-500', 'text-white');
                    });
                });

                document.getElementById('submit-entry').addEventListener('click', function() {
                    let entry = document.getElementById('diary-entry').value;
                    let state = document.getElementById('diary-state').value;
                    let date = document.getElementById('diary-date').value;

                    if (date.trim() === '') {
                        alert('請選擇日期');
                        return;
                    }

                    // 模擬 AI 分析情緒
                    let emotions = ['快樂', '悲傷', '焦慮', '平靜'];
                    let advices = ['繼續保持正向心態！', '適時尋求朋友傾訴', '試試深呼吸來緩解壓力', '維持當前的心境'];
                    let randomIndex = Math.floor(Math.random() * emotions.length);
                    
                    document.getElementById('emotion-label').innerText = '情緒標籤: ' + emotions[randomIndex];
                    document.getElementById('advice').innerText = '建議: ' + advices[randomIndex];
                    document.getElementById('analysis-result').classList.remove('hidden');

                    // 發送資料到後端
                    fetch("/save-diary", {
                        method: "POST",
                        headers: {
                            "Content-Type": "application/json"
                        },
                        body: JSON.stringify({
                            date: date,
                            content: entry,
                            state: state,
                            yesNoAnswers: yesNoAnswers
                        })
                    })
                    .then(response => response.json())
                    .then(data => {
                        if (data.success) {
                            alert("心情日記已儲存！");
                        } else {
                            alert("儲存失敗，請稍後再試。");
                        }
                    })
                    .catch(error => console.error("錯誤:", error));
                });

                document.getElementById('yes-no-questions').addEventListener('click', function() {
                    document.getElementById('yes-no-section').classList.toggle('hidden');
                });

                document.getElementById('manual-entry').addEventListener('click', function() {
                    document.getElementById('diary-entry').classList.toggle('hidden');
                    document.getElementById('diary-state').classList.toggle('hidden');
                });
            </script>
        </body>
    </html>
</section>


<!-------------------------------------------------------------------------------------------->
                    </div><!-- /.templatemo-content -->  
                </div><!-- /.templatemo-content-wrapper --> 
            </div><!-- /.row --> 

            <div class="row">
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 footer">
                    <p class="footer-text">
                    	<span>Copyright © 2050 <a target="_blank" href="http://www.mobanwang.com/" title="网页模板">网页模板</a></span>
                	</p>
                </div><!-- /.footer --> 
            </div>

	</div><!-- /#main-wrapper -->
        
        <div id="preloader">
            <div id="status">&nbsp;</div>
        </div><!-- /#preloader -->
        
        <script src="js/jquery.min.js"></script>
        <script src="js/jquery.backstretch.min.js"></script>
        <script src="js/templatemo_script.js"></script>
        <!-- templatemo 398 nature -->
    </body>
</html>